<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="view_crm_product_form_inherit" model="ir.ui.view">
			<field name="name">view crm product form inherit</field>
			<field name="model">crm.lead</field>
			<field name="inherit_id" ref="crm.crm_lead_view_form" />
			<field name="arch" type="xml">
				<xpath expr="/form/header" position="before">
					<header>	
						<field name="state" widget="statusbar" statusbar_visible="approve,reject,pending"/>
					</header>
				</xpath>
				<xpath expr="/form/header[1]" position="inside">
					<button name="approve_action" states="pending,reject" string="Approve" type="object"/>						
					<button name="reject_action" states="pending,approve" string="Reject" type="object"/>						
				</xpath>
				<xpath expr="/form/sheet/group" position="before">
					<group>
						<group>
							<field name="related_stage_name"/>
							<field name="product_type"/>
						</group>
					</group>
				</xpath>
				<xpath expr="/form/sheet/notebook" position="inside">
					<page name="docs" string="Documents">
						<group>
							<group>
								<field name="bank_attachment" widget="image" string="Bank Attachment"/>
								<field name="trip_data" widget="image" string="Trip Data Excel File"/>
							</group>
							<group>
								<field name="ownership_doc" widget="image" string="Truck Owner Ship Doc"/>
							</group>
							<group attrs="{'invisible':[('related_stage_name','=', 'Business Team')]}">
								<field name="kyc_check"/>
								<field name="bureau_check"/>
								<field name="risk_score"/>
								<field name="assign_limit"/>
							</group>
							<group attrs="{'invisible':['|',('related_stage_name','=', 'Business Team'),('related_stage_name','=', 'Risk and Compliance')]}">
								<field name="priority" widget="priority"/>
								<field name="Note"/>
							</group>
						</group>
						
					</page>
				</xpath>
				<xpath expr="/form/sheet/notebook" position="inside">
					<page name="product_info" string="Product Info">
						<group attrs="{'invisible':[('product_type','!=', '1')]}">
							<group>
								<field name="limit_request" />
								<field name="requested_amount"  />
								<field name="instrument_number"  />
								<field name="attachment" widget="image" string="Attachment"/>
							</group>
							<group>
								<field name="instrument_number" />
								<field name="facility_request_date" />
								<field name="instrument_due_date" />
							</group>
						</group>
						<group attrs="{'invisible':[('product_type','!=', '2')]}">
							<group>
								<field name="requested_amount"  />
								<field name="instrument_number"  />
								<field name="attachment" widget="image" string="Attachment"/>
							</group>
							<group>
								<field name="instrument_number" />
								<field name="facility_request_date" />
								<field name="instrument_due_date" />
							</group>
						</group>
						<group attrs="{'invisible':[('product_type','!=', '3')]}">
							<group>
								<field name="select_party"  />
								<field name="invoice_amount"  />
								<field name="tag_trip"  />
								<field name="invoice_attachment" widget="image" string="Upload Invoice"/>
							</group>
							<group>
								<field name="invoice_type" attrs="{'required':[('product_type','=', '3')]}" />
								<field name="facility_request_date" />
								<field name="instrument_due_date" />
								<field name="description" />
							</group>
						</group>
					</page>
				</xpath>
			</field>
		</record>
	</data>
</odoo>
